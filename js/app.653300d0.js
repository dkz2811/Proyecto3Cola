(function(){"use strict";var t={3463:function(t,e,s){var i=s(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("HeaderComp",{attrs:{titulo:"Entrega Vue Cli Ecomerce"}}),e("NavComp"),e("router-view")],1)},o=[],r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mb-3"},[e("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},t._l(t.getNavBar,(function(s){return e("b-navbar-nav",{key:s.comp},[e("b-nav-item",[s.visible?e("router-link",{staticClass:"nav-link active",attrs:{to:s.to}},[e("ALabel",{attrs:{title:s.title,value:s.value}})],1):t._e()],1)],1)})),1),e("div",[t.isLogged?e("button",{staticClass:"btn btn-success mr3",attrs:{type:"button",disabled:t.isLoading},on:{click:t.userLogOut}},[t._v(" Log Out")]):t._e()])],1)],1)},c=[],n=s(3822),d=function(){var t=this,e=t._self._c;return e("div",[e("span",[t._v(t._s(t.title)+" "+t._s(t.value))])])},l=[],p={name:"ALabel",props:{title:{typeof:String,required:!0,default:"Label"},value:{type:Number,required:!1}}},u=p,m=s(1001),g=(0,m.Z)(u,d,l,!1,null,null,null),v=g.exports,h={name:"NavComp",components:{ALabel:v},methods:{userLogOut(){this.$store.dispatch("userLogOut")}},computed:{...(0,n.Se)(["getNavBar","isLogged","isLoading"])}},f=h,b=(0,m.Z)(f,r,c,!1,null,null,null),C=b.exports,_=function(){var t=this,e=t._self._c;return e("div",[e("h2",[t._v(" "+t._s(t.titulo)+" ")])])},S=[],L={name:"HeaderComp",props:{titulo:String}},k=L,w=(0,m.Z)(k,_,S,!1,null,null,null),y=w.exports,B={name:"App",components:{NavComp:C,HeaderComp:y},mounted(){this.$store.dispatch("getDevices")}},D=B,E=(0,m.Z)(D,a,o,!1,null,null,null),P=E.exports;s(7658);const x={state:{BASE_URL:"https://64996d0079fbe9bcf83f3a84.mockapi.io",devices:[],stockedDevices:[],stockChangeLoading:!1},getters:{getDevices:t=>t.devices,getDevicesCount:t=>t.devices.length,getStockedDevices:t=>t.stockedDevices},mutations:{setDevices:(t,e)=>{t.devices=e},setStockedDevices:(t,e)=>{t.stockedDevices=e},updateStockDown:(t,e)=>{t.stockedDevices.some((t=>{t.id===e.id&&(t.stock-=1)}))},updateStockUp:(t,e)=>{t.stockedDevices.some((t=>{t.id===e.id&&(t.stock+=1)}))}},actions:{getDevices:t=>{if(0===t.getters.getDevicesCount)fetch(t.state.BASE_URL+"/products").then((t=>t.json())).then((e=>{t.commit("setDevices",e),t.commit("setStockedDevices",e)})).catch((t=>console.log(t)));else{let e=t.getters.getStockedDevices.slice();t.commit("setStockedDevices",e)}},updateStock:t=>{let e=t.getters.getStockedDevices,s=t.getters.getShoppingList,i=[],a=[];for(let r of s)e.find((t=>{t.id===r.id&&a.push(t)})),i.push(r.id);let o=[...new Set(i)];for(let r of o){let e=a.find((t=>{if(t.id===r)return t}));fetch(t.state.BASE_URL+"/products/"+r,{method:"PUT",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((t=>t.json())).catch((t=>console.log("updateStock: ",t)))}t.commit("clearCart"),t.commit("clearCartLocal"),t.dispatch("setNavBarCart",t.getters.getShoppingListCount)},addDevice:(t,e)=>{fetch(t.state.BASE_URL+"/products",{method:"POST",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((t=>t.json())).catch((t=>console.log(t))),t.commit("setDevices",[]),t.dispatch("getDevices")},deleteDevice:(t,e)=>{fetch(t.state.BASE_URL+"/products/"+e.id,{method:"DELETE",headers:{"Content-type":"application/json"}}).then((t=>t.json())).catch((t=>console.log(t))),t.commit("setDevices",[]),t.dispatch("getDevices")},updateDevice:(t,e)=>{fetch(t.state.BASE_URL+"/products/"+e.id,{method:"PUT",body:JSON.stringify(e),headers:{"Content-type":"application/json"}}).then((t=>t.json())).catch((t=>console.log(t))),t.commit("setDevices",[]),t.dispatch("getDevices")}}},N={state:{BASE_URL:"https://64996d0079fbe9bcf83f3a84.mockapi.io",loginSuccess:!1,loginError:!1,login:{name:"",email:"",password:"",isAdmin:!1},isRegistered:!1,user:{id:"",name:"",email:"",isAdmin:!1,isLogged:!1,purchases:[],cart:[]}},getters:{getUserPurchases:t=>t.user.purchases,isRegistered:t=>t.isRegistered,loginSuccess:t=>t.loginSuccess,loginError:t=>t.loginError,getUser:t=>t.user,isAdmin:t=>t.user.isAdmin,isLogged:t=>t.user.isLogged},mutations:{setUserCart:(t,e)=>{t.user.cart=e},addRecipt:(t,e)=>{t.user.purchases.push(e)},isLogged:(t,e)=>{t.user.isLogged=e},loginSuccess:(t,e)=>{t.loginSuccess=e},loginError:(t,e)=>{t.loginError=e},isRegistered:(t,e)=>{t.isRegistered=e},setUser:(t,e)=>{t.user.id=e.id,t.user.name=e.name,t.user.email=e.email,t.user.isAdmin=e.isAdmin,t.user.purchases=e.purchases,t.user.isLogged=e.isLogged}},actions:{getUser:t=>{let e=JSON.parse(localStorage.getItem("user"))||null;t.commit("setUser",e)},resetLoginFlags:t=>{t.commit("isLoading",!0),t.commit("loginSuccess",!1),t.commit("loginError",!1),t.commit("isRegistered",!1)},setLoginOkFlags:(t,e)=>{t.commit("setUser",e),t.commit("loginSuccess",!0),t.commit("loginError",!1),t.commit("isRegistered",!0),t.commit("setNavBar",e)},userExists:(t,e)=>{fetch(`${t.state.BASE_URL}/users`).then((t=>t.json())).then((s=>{let i=s,a=i.find((t=>t.email===e.email));console.log("user => UserExists",a?"already registered":"not registered"),a?t.commit("isRegistered",!0):t.dispatch("registerUser",e)})).catch((t=>console.log(t)))},registerUser:(t,e)=>{fetch(t.state.BASE_URL+"/users",{method:"POST",body:JSON.stringify({name:e.name,email:e.email,password:e.password}),headers:{"Content-type":"application/json"}}).then((t=>t.json())).then((e=>{console.log("user => RegisterUser",e),t.dispatch("setLoginOkFlags",{id:e.id,name:e.name,email:e.email,isAdmin:e.isAdmin,purchases:e.purchases,isLogged:!0})})).catch((t=>console.log(t))).finally((()=>t.commit("isLoading",!1)))},updateUser:t=>{console.log("checkout user.js"),console.log("user => updateUser",t.state.user),fetch(t.state.BASE_URL+"/users/"+t.state.user.id,{method:"PUT",body:JSON.stringify(t.state.user),headers:{"Content-type":"application/json"}}).then((t=>t.json())).then((t=>{console.log("user => updateUser",t)})).catch((t=>console.log(t))).finally((()=>t.commit("isLoading",!1)))},logIn:(t,e)=>{t.dispatch("resetLoginFlags"),fetch(t.state.BASE_URL+"/users").then((t=>t.json())).then((s=>{let i=s.find((t=>t.email===e.email));if(i)if(i.password===e.password){let e={id:i.id,name:i.name,email:i.email,isAdmin:i.isAdmin,purchases:i.purchases,isLogged:!0,cart:i.cart};t.dispatch("setLoginOkFlags",e),t.dispatch("setCartFromBackEnd",null===e.cart?[]:e.cart),localStorage.setItem("user",JSON.stringify(e))}else t.commit("loginError",!0),t.commit("loginSuccess",!1),t.commit("isRegistered",!0);else t.commit("isRegistered",!1),t.commit("loginError",!0),t.commit("loginSuccess",!1)})).catch((t=>console.log(t))).finally((()=>t.commit("isLoading",!1)))},userLogOut:t=>{let e=JSON.parse(localStorage.getItem("cart"));t.commit("setUserCart",e),t.dispatch("updateUser"),t.commit("setUser",{id:"",name:"",email:"",isAdmin:!1,purchases:[],isLogged:!1,cart:[]}),t.commit("clearCartLocal"),t.commit("clearCart"),t.dispatch("resetLoginFlags"),t.commit("resetNavBar"),t.commit("isLoading",!1),localStorage.removeItem("user")}}},O={state:{navBar:[{title:"Store",comp:"MainCard",to:"/",visible:!0},{title:"Register",comp:"RegisterComp",to:"/register",visible:!0},{title:"Log In",comp:"LogInComp",to:"/log-in",visible:!0},{title:"Your Cart",comp:"CartComp",to:"/shopping-cart",value:0,visible:!0},{title:"ProductMgm",comp:"CrudProduct",to:"/product-mgm",visible:!1}]},getters:{getNavBar:t=>t.navBar},mutations:{resetNavBar:t=>{t.navBar[1].visible=!0,t.navBar[2].visible=!0,t.navBar[3].visible=!0,t.navBar[3].value=0,t.navBar[4].visible=!1,t.navBar[2].title="Log In",t.navBar[2].to="/log-in"},setNavBar:(t,e)=>{t.navBar[1].visible=!1,e.isAdmin?t.navBar[4].visible=!0:t.navBar[4].visible=!1,t.navBar[2].title=e.name,t.navBar[2].to="/customer-page"},setNavBarCart:(t,e)=>{t.navBar[3].value=e}},actions:{setNavBar:(t,e)=>{t.commit("setNavBar",e)},setNavBarCart:(t,e)=>{t.commit("setNavBarCart",e)}}},$={state:{shoppingList:[]},getters:{getShoppingList:t=>t.shoppingList,getShoppingListTotal:t=>t.shoppingList.reduce(((t,e)=>t+e.price),0),getShoppingListCount:t=>t.shoppingList.length},mutations:{addProductToShoppingList:(t,e)=>{t.shoppingList.push(e)},removeProductFromShoppingList:(t,e)=>{t.shoppingList.splice(e,1)},clearCart:t=>{t.shoppingList=[]},clearCartLocal:()=>{localStorage.removeItem("cart")},setCartFromLocalStorage:(t,e)=>{t.shoppingList=e},setCartFromBackEnd:(t,e)=>{t.shoppingList=e}},actions:{setCartFromBackEnd:(t,e)=>{t.commit("setCartFromBackEnd",e),t.commit("setNavBarCart",e.length)},setCartFromLocalStorage:t=>{let e=JSON.parse(localStorage.getItem("cart"))||null;null!==e&&(t.commit("setCartFromLocalStorage",e),t.commit("setNavBarCart",e.length))},addProductToShoppingList:(t,e)=>{t.commit("addProductToShoppingList",e),t.commit("updateStockDown",e),t.dispatch("setNavBarCart",t.state.shoppingList.length),localStorage.setItem("cart",JSON.stringify(t.state.shoppingList))},removeProductFromShoppingList:(t,e)=>{let s=t.state.shoppingList[e];t.commit("removeProductFromShoppingList",e),t.commit("updateStockUp",s),t.dispatch("setNavBarCart",t.state.shoppingList.length),localStorage.setItem("cart",JSON.stringify(t.state.shoppingList))},checkOut:t=>{t.dispatch("getRecipt"),t.dispatch("updateUser"),t.dispatch("updateStock")},getRecipt:t=>{console.log("getRecipt cart.js");let e={id:Date.now(),date:(new Date).toLocaleDateString(),total:t.getters.getShoppingListTotal,detail:[]};for(let s of t.state.shoppingList)e.detail.push({qtty:1,product_id:s.id,product_name:s.model,price:s.price});t.commit("addRecipt",e)}}};i["default"].use(n.ZP);var U=new n.ZP.Store({state:{BASE_URL:"https://64996d0079fbe9bcf83f3a84.mockapi.io",isLoading:!1},getters:{isLoading:t=>t.isLoading},mutations:{isLoading:(t,e)=>{t.isLoading=e}},actions:{isLoading:(t,e)=>{t.commit("isLoading",e)}},modules:{product:x,user:N,navbar:O,cart:$}}),A=s(8965),R=s.n(A),I=s(2631),j=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},t._l(t.getStockedDevices,(function(s){return e("div",{key:s.id,staticClass:"col"},[e("OneCard",{attrs:{button:"Add to Cart",model:s.model,price:s.price,picture:s.picture,id:s.id,stock:s.stock,specs:s.specs},on:{getSelectedItem:t.getSelectedItem}})],1)})),0)])},F=[],T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card mb-2",staticStyle:{width:"18rem"}},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v(t._s(t.model))]),e("img",{staticClass:"card-img-top",attrs:{src:t.picture,alt:t.model}}),e("p",{staticClass:"text-start"},[t._v(" Price: $"+t._s(t.price))]),e("div",[this.item.stock>0?e("p",{staticClass:"text-start"},[t._v(" Stock: "+t._s(this.item.stock))]):e("p",{staticClass:"text-start text-danger"},[t._v(" Out of stock")]),"Modify"===t.button?e("p",{staticClass:"text-start"},[t._v("ID: "+t._s(t.id))]):t._e()]),e("button",{staticClass:"btn btn-success mt-3",attrs:{disabled:this.item.stock<1&&"Modify"!==t.button},on:{click:t.SubmitEvent}},[t._v(t._s(t.button))]),e("div",t._l(t.devSpecs,(function(s,i){return e("ul",{key:i,staticClass:"list-group list-group-flush"},[e("li",{staticClass:"list-group-item"},[t._v(t._s(s))])])})),0)])])},q=[],Z={name:"OneCard",data(){return{devSpecs:"",item:{id:0,model:"",price:0,stock:0}}},props:{button:String,id:String,picture:String,price:Number,model:String,stock:Number,brand:String,specs:String},created(){this.devSpecs=this.specs.split(","),this.item.stock=this.stock},methods:{SubmitEvent(){if("Add to Cart"===this.button){this.item.stock-=1;let t={id:this.id,model:this.model,price:this.price};this.$emit("getSelectedItem",t)}if("Modify"===this.button){let t={id:this.id,model:this.model,price:this.price,picture:this.picture,stock:this.stock,brand:this.brand,specs:this.specs};this.$emit("getSelectedItem",t)}}}},M=Z,J=(0,m.Z)(M,T,q,!1,null,"4ae98424",null),H=J.exports,Y={name:"MainCard",components:{OneCard:H},computed:{...(0,n.Se)(["getStockedDevices"])},methods:{getSelectedItem(t){this.$store.dispatch("addProductToShoppingList",t)}}},z=Y,G=(0,m.Z)(z,j,F,!1,null,null,null),V=G.exports,W=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"cart-container"},[e("div",{staticClass:"card mb-2",staticStyle:{width:"18rem"}},[e("div",{staticClass:"card-body"},[e("h5",{staticClass:"card-title"},[t._v("Your Cart")]),e("div",[t._l(t.getShoppingList,(function(s,i){return e("ul",{key:i,staticClass:"list-group list-group-flush"},[e("div",[e("li",{staticClass:"list-group-item"},[e("div",{staticClass:"d-flex"},[e("span",{staticClass:"mr-2"},[t._v(" Item:"+t._s(i+1)+" "+t._s(s.model)+" $"+t._s(s.price)+" ")]),e("button",{staticClass:"btn btn btn-outline-danger float-right",on:{click:function(e){return t.delSelectedItem(i)}}},[t._v(" Remove")])])])])])})),e("div",{staticClass:"list-group-item"},[e("span",[t._v("Your total: $"+t._s(t.getShoppingListTotal))])])],2),e("div",[e("button",{staticClass:"btn btn-success mt-3",attrs:{type:"button","data-toggle":"modal","data-target":".bd-example-modal-lg"},on:{click:function(e){return t.checkOut()}}},[t._v(" Check Out! ")])])])])])]),e("div",{staticClass:"col-md-6"},[e("div",{staticClass:"table"},[t._m(0),e("table",{staticClass:"table table-striped"},[t._m(1),t._l(t.getUser.purchases,(function(s,i){return e("tbody",{key:i},[e("tr",[e("th",{attrs:{scope:"row"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(s.date))]),e("td",[t._v(t._s(s.total))]),t._m(2,!0)]),t._l(s.detail,(function(s,i){return e("tr",{key:i},[e("td",[t._v("detail")]),e("td",[t._v("product id: "+t._s(s.product_id))]),e("td",[t._v("model: "+t._s(s.product_name)+" ")]),e("td",[t._v("price: "+t._s(s.price))])])}))],2)}))],2)])])])])},X=[function(){var t=this,e=t._self._c;return e("div",[e("h3",[t._v("Your previous purchases")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("recipt")]),e("th",{attrs:{scope:"col"}},[t._v("date")]),e("th",{attrs:{scope:"col"}},[t._v("total")]),e("th",{attrs:{scope:"col"}})])])},function(){var t=this,e=t._self._c;return e("td",[e("button",{staticClass:"btn btn-secondary"},[t._v("Buy Again")])])}],K={name:"CartComp",methods:{delSelectedItem(t){this.$store.dispatch("removeProductFromShoppingList",t)},checkOut(){this.$store.getters.getShoppingListTotal>0&&(this.getUser.isLogged?this.$store.dispatch("checkOut"):(alert("You must be logged in to check out"),this.$router.push("/log-in")))}},computed:{...(0,n.Se)(["getUser","getShoppingList","getShoppingListTotal"])}},Q=K,tt=(0,m.Z)(Q,W,X,!1,null,"8f8d0a68",null),et=tt.exports,st=function(){var t=this,e=t._self._c;return e("div",[e("vue-form",{attrs:{state:t.formstate},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("div",{staticClass:"login-container"},[e("div",{staticClass:"form-group"},[e("validate",{attrs:{tag:"label"}},[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("Name")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"enter name",required:"",name:"name"},domProps:{value:t.user.name},on:{input:function(e){e.target.composing||t.$set(t.user,"name",e.target.value)}}}),e("field-messages",{attrs:{name:"name",show:"$touched"}},[e("div",{attrs:{slot:"required"},slot:"required"},[t._v(" Name required ")])])],1)])],1),e("div",{staticClass:"form-group"},[e("validate",{attrs:{tag:"label"}},[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("Email")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.email,expression:"user.email"}],staticClass:"form-control",attrs:{type:"text",autocomplete:"enter email",required:"",name:"email"},domProps:{value:t.user.email},on:{input:function(e){e.target.composing||t.$set(t.user,"email",e.target.value)}}}),e("field-messages",{attrs:{name:"email",show:"$touched"}},[e("div",{attrs:{slot:"required"},slot:"required"},[t._v("Email required")])])],1)])],1),e("div",{staticClass:"form-group"},[e("validate",{attrs:{tag:"label",custom:{"check-password":t.checkPassword}}},[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("Enter password")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",autocomplete:"enter password",required:"",name:"password1"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),e("field-messages",{attrs:{name:"password1",show:"$touched"}},[e("div",{attrs:{slot:"check-password"},slot:"check-password"},[t._v("Password must have 8 or more characters, one or more uppercase, one or more lowercase one or more numbers")])])],1)])],1),e("div",{staticClass:"form-group"},[e("validate",{attrs:{tag:"label",custom:{"password-coincide":t.passwordCoincide}}},[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("span",{staticClass:"input-group-text"},[t._v("Enter password")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password2,expression:"user.password2"}],staticClass:"form-control",attrs:{type:"password",autocomplete:"re-enter password",required:"",name:"password2"},domProps:{value:t.user.password2},on:{input:function(e){e.target.composing||t.$set(t.user,"password2",e.target.value)}}}),e("field-messages",{attrs:{name:"password2",show:"$touched"}},[e("div",{attrs:{slot:"check-password"},slot:"check-password"},[t._v("Password required")]),e("div",{attrs:{slot:"password-coincide"},slot:"password-coincide"},[t._v("Passwords must be identical")])])],1)])],1),this.isRegistered?e("div",[e("span",[t._v("This email is already registered")])]):t._e(),e("button",{staticClass:"btn btn-success mt-3",attrs:{type:"submit",disabled:this.isLoading}},[t._v("Send")])])])],1)},it=[],at={name:"RegisterComp",props:{users:Array,states:Object},data(){return{BASE_URL:"https://64996d0079fbe9bcf83f3a84.mockapi.io",formstate:{},user:{name:"",email:"",password:"",isAdmin:!1},password2:""}},updated(){this.loginSuccess&&!this.loginError&&!this.isLoading&&this.isRegistered&&(this.isAdmin?this.$router.push("/product-mgm"):this.$router.push("/"))},methods:{onSubmit(){this.formstate.$valid&&this.registerUser()},checkPassword(t){return/(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/.test(t)},passwordCoincide(t){return this.user.password===t},registerUser(){this.$store.dispatch("userExists",this.user)}},computed:{...(0,n.Se)(["isAdmin","isRegistered","isLoading","loginSuccess"])}},ot=at,rt=(0,m.Z)(ot,st,it,!1,null,null,null),ct=rt.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login-container"},[e("vue-form",{attrs:{state:t.formstate},on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("validate",{attrs:{tag:"label"}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"email"}},[t._v("Email:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.email,expression:"login.email"}],attrs:{type:"email",id:"email",autocomplete:"admin@coder.com",required:"",name:"email"},domProps:{value:t.login.email},on:{input:function(e){e.target.composing||t.$set(t.login,"email",e.target.value)}}})])]),e("validate",{attrs:{tag:"label"}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[t._v("Password:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.login.password,expression:"login.password"}],attrs:{type:"password",id:"password",autocomplete:"Admin123",required:"",name:"password"},domProps:{value:t.login.password},on:{input:function(e){e.target.composing||t.$set(t.login,"password",e.target.value)}}})])]),e("div",[this.loginSuccess?e("span",[t._v(" Success! ")]):t._e(),this.loginError&&this.isRegistered&&!this.isLoading?e("span",[t._v(" User or password are incorrect")]):t._e(),!this.loginError||this.isRegistered||this.isLoading?t._e():e("span",[t._v(" User is not registered ")])]),e("button",{staticClass:"btn btn-success",attrs:{type:"submit",disabled:t.isLoading}},[t._v("Login")])],1)],1)},dt=[],lt={name:"LogInComp",props:{states:Object},data(){return{formstate:{},login:{email:"",password:""}}},updated(){this.loginSuccess&&!this.loginError&&!this.isLoading&&this.isRegistered&&(this.isAdmin?this.$router.push("/product-mgm"):this.$router.push("/"))},methods:{onSubmit(){this.formstate.$valid&&this.checkLogin()},checkLogin(){this.$store.dispatch("logIn",this.login)}},computed:{...(0,n.Se)(["loginSuccess","loginError","isRegistered","isLoading","isAdmin"])}},pt=lt,ut=(0,m.Z)(pt,nt,dt,!1,null,"0d49724e",null),mt=ut.exports,gt=function(){var t=this,e=t._self._c;return e("div",[e("vue-form",{attrs:{state:t.formstate},on:{submit:function(e){return e.preventDefault(),t.onSubmitHandler.apply(null,arguments)}}},[e("div",{staticClass:"login-container mb-3"},[e("div",{staticClass:"form-group"},[e("validate",[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("label",{attrs:{for:"model"}},[t._v("Model")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.device.model,expression:"device.model"}],attrs:{id:"model",type:"text",placeholder:"Model",required:"",name:"model"},domProps:{value:t.device.model},on:{input:function(e){e.target.composing||t.$set(t.device,"model",e.target.value)}}})])])],1),e("div",{staticClass:"form-group"},[e("validate",[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("label",{attrs:{for:"price"}},[t._v("Price")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.device.price,expression:"device.price"}],attrs:{id:"price",type:"number",placeholder:"Price",required:"",name:"price"},domProps:{value:t.device.price},on:{input:function(e){e.target.composing||t.$set(t.device,"price",e.target.value)}}})])])],1),e("div",{staticClass:"form-group"},[e("validate",[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("label",{attrs:{for:"picture"}},[t._v("Picture url")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.device.picture,expression:"device.picture"}],ref:"pic",attrs:{id:"picture",type:"text",placeholder:"Picture",name:"picture"},domProps:{value:t.device.picture},on:{input:function(e){e.target.composing||t.$set(t.device,"picture",e.target.value)}}})])])],1),e("div",{staticClass:"form-group"},[e("validate",[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("label",{attrs:{for:"stock"}},[t._v("Stock")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.device.stock,expression:"device.stock"}],attrs:{id:"stock",type:"number",placeholder:"Stock",required:"",name:"stock"},domProps:{value:t.device.stock},on:{input:function(e){e.target.composing||t.$set(t.device,"stock",e.target.value)}}})])])],1),e("div",{staticClass:"form-group"},[e("validate",[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("label",{attrs:{for:"brand"}},[t._v("Marca")])]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.device.brand,expression:"device.brand"}],attrs:{id:"brand",type:"text",placeholder:"Brand",required:"",name:"brand"},domProps:{value:t.device.brand},on:{input:function(e){e.target.composing||t.$set(t.device,"brand",e.target.value)}}})])]),e("div",{staticClass:"form-group"},[e("validate",[e("div",{staticClass:"intput-group mb-3"},[e("div",{staticClass:"input-grou-prepend"},[e("label",{attrs:{for:"specs"}},[t._v("Specs")])]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.device.specs,expression:"device.specs"}],staticClass:"textarea",attrs:{id:"specs",placeholder:"Eech spec must be separeted by a comma ','",required:"",name:"specs",cols:"20",rows:"10"},domProps:{value:t.device.specs},on:{input:function(e){e.target.composing||t.$set(t.device,"specs",e.target.value)}}})])])],1)],1),e("div",[e("div",[e("span",[t._v(" "+t._s(""!=t.device.id?"Modify "+t.device.model:"")+" ")])]),e("button",{class:""==t.device.id?"btn btn-success mt-3":"btn btn-warning mt-3",attrs:{type:"submit"}},[t._v(" "+t._s(""==t.device.id?"Create New":"Modify ID:"+t.device.id)+" ")]),e("button",{staticClass:"btn btn-secondary mt-3",on:{click:t.clearForm}},[t._v("Clear")]),e("div",[""!=t.device.id?e("button",{staticClass:"btn btn-danger ml-3 mt-3",attrs:{type:"button"},on:{click:t.deleteDevice}},[t._v("Delete ")]):t._e()])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},t._l(t.getStockedDevices,(function(s){return e("div",{key:s.id,staticClass:"col"},[e("OneCard",{attrs:{button:"Modify",model:s.model,price:s.price,picture:s.picture,id:s.id,stock:s.stock,brand:s.brand,specs:s.specs},on:{getSelectedItem:t.getSelectedItem}})],1)})),0)])],1)},vt=[],ht={components:{OneCard:H},name:"CrudProduct",data(){return{BASE_URL:"https://64996d0079fbe9bcf83f3a84.mockapi.io",formstate:{},device:{id:"",model:"",specs:"",price:0,picture:"",stock:0,brand:""}}},computed:{...(0,n.Se)(["getStockedDevices"])},methods:{onSubmitHandler(){this.formstate.$valid&&(""!==this.device.id?this.saveChanges():""==this.device.id&&this.addDevice(),this.clearForm())},deleteDevice(){this.formstate.$valid&&(this.$store.dispatch("deleteDevice",this.device),this.clearForm())},getSelectedItem(t){let e={id:t.id,model:t.model,price:t.price,picture:t.picture,stock:t.stock,brand:t.brand,specs:t.specs};this.device=e,this.$refs.pic.focus()},saveChanges(){let t={id:this.device.id,model:this.device.model,price:parseInt(this.device.price),picture:this.device.picture,stock:parseInt(this.device.stock),brand:this.device.brand,specs:this.device.specs.trim()};this.$store.dispatch("updateDevice",t),this.clearForm()},addDevice(){let t={model:this.device.model,price:parseInt(this.device.price),picture:this.device.picture,stock:parseInt(this.device.stock),brand:this.device.brand,specs:this.device.specs.trim()};console.log(t),this.$store.dispatch("addDevice",t)},clearForm(){this.device={id:"",model:"",specs:"",price:0,picture:"",stock:0,brand:""},this.formstate._reset()}}},ft=ht,bt=(0,m.Z)(ft,gt,vt,!1,null,"4445cb24",null),Ct=bt.exports,_t=function(){var t=this,e=t._self._c;return e("div",[t._v(" "+t._s(t.user.name)+" "+t._s(t.user.email)+" "+t._s(t.user.isAdmin)+" ")])},St=[],Lt={name:"CustomerPage",data(){return{user:U.state.user}}},kt=Lt,wt=(0,m.Z)(kt,_t,St,!1,null,null,null),yt=wt.exports;i["default"].use(I.ZP),i["default"].use(U);const Bt=[{path:"/",component:V,name:"store"},{path:"/log-in",component:mt,name:"log-in"},{path:"/register",component:ct,name:"register"},{path:"/shopping-cart",component:et,name:"shopping-cart"},{path:"/product-mgm",component:Ct,name:"product-mgm"},{path:"/customer-page",component:yt,name:"customer-page"}],Dt=new I.ZP({mode:"history",base:"/Proyecto3Cola/",routes:Bt});Dt.beforeEach(((t,e,s)=>{"/product-mgm"===t.path?U.getters.isLogged?s():s("/log-in"):s()}));var Et=Dt,Pt=s(6882);s(7024);i["default"].use(Pt.XG7),i["default"].config.productionTip=!1,i["default"].use(R()),new i["default"]({store:U,router:Et,render:t=>t(P)}).$mount("#app")}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,o){if(!i){var r=1/0;for(l=0;l<t.length;l++){i=t[l][0],a=t[l][1],o=t[l][2];for(var c=!0,n=0;n<i.length;n++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](i[n])}))?i.splice(n--,1):(c=!1,o<r&&(r=o));if(c){t.splice(l--,1);var d=a();void 0!==d&&(e=d)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[i,a,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,o,r=i[0],c=i[1],n=i[2],d=0;if(r.some((function(e){return 0!==t[e]}))){for(a in c)s.o(c,a)&&(s.m[a]=c[a]);if(n)var l=n(s)}for(e&&e(i);d<r.length;d++)o=r[d],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(l)},i=self["webpackChunkproyectofinal3"]=self["webpackChunkproyectofinal3"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(3463)}));i=s.O(i)})();
//# sourceMappingURL=app.653300d0.js.map